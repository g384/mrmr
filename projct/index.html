<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¥Ù„Ù‰ Ø£ØºÙ„Ù‰ Ù…Ø§ Ø¹Ù†Ø¯ÙŠ - Ù…Ø±Ø§Ù…</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:ital,wght@1,700&family=Pacifico&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 0; display: flex; justify-content: center; align-items: flex-start;
            min-height: 100vh; font-family: 'Cairo', sans-serif;
            background: linear-gradient(-45deg, #ee9ca7, #ffdde1, #f7bbca, #ff9a9e);
            background-size: 400% 400%; animation: gradientBG 15s ease infinite; padding-top: 20px;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; }
        }

        .container {
            background: rgba(255, 255, 255, 0.96); padding: 20px; border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); width: 92%; max-width: 400px;
            text-align: center; border: 2px solid #ff4d6d; margin-bottom: 20px; z-index: 10;
        }

        .step { display: none; }
        .step.active { display: block; animation: mobilePop 0.4s ease-out; }

        @keyframes mobilePop { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        .char-img {
            width: 120px; height: 120px; border-radius: 50%; margin-bottom: 15px;
            border: 4px solid #ffb3c1; object-fit: cover; box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3);
        }

        h1 { color: #c9184a; font-size: 20px; margin-bottom: 15px; }

        button {
            background: #ff4d6d; color: white; border: none; padding: 15px 25px;
            border-radius: 15px; cursor: pointer; font-size: 17px; font-weight: bold;
            margin: 8px 5px; width: 100%; transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 10px rgba(255, 77, 109, 0.4);
        }

        button:active { transform: scale(0.92); box-shadow: 0 2px 5px rgba(255, 77, 109, 0.2); }

        input {
            width: 100%; padding: 15px; margin: 15px 0; border: 2px solid #ffb3c1;
            border-radius: 15px; text-align: center; font-size: 18px; background: #fff5f6;
        }

        .error { color: #ff0054; font-size: 14px; font-weight: bold; display: none; margin-bottom: 10px; }
        
        .message-box {
            background: #fffafa; padding: 15px; border-radius: 15px; max-height: 350px;
            overflow-y: auto; text-align: right; line-height: 1.7; font-size: 16px;
            border-right: 5px solid #ff4d6d; box-shadow: inset 0 0 10px rgba(0,0,0,0.02);
        }

        .message-box p { font-family: 'Amiri', serif; margin-bottom: 12px; color: #444; }

        #statsTable { width: 100%; margin-top: 15px; font-size: 13px; border-collapse: collapse; }
        #statsTable td { border: 1px solid #ffb3c1; padding: 10px; color: #c9184a; }

        .heart-float { position: fixed; pointer-events: none; z-index: 1; color: #ff4d6d; opacity: 0.6; }
    </style>
</head>
<body>

<div id="hearts-container"></div>

<div class="container">
    <div class="step active" id="step0">
        <img src="images/char1.png" class="char-img">
        <h1>Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ Ù†ÙˆØ± Ø¹ÙŠÙˆÙ†ÙŠ Ù…Ø±Ø§Ù… â¤ï¸</h1>
        <p>Ù†ÙˆØ± Ø§Ù„Ø¯ÙŠÙ† Ù…Ø³ÙˆÙŠ Ù„Ø¬ Ø§Ø­ØªÙØ§Ù„ÙŠØ© ØµØºÙŠØ±Ø© Ø¨Ù…Ù†Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.. Ù…Ø³ØªØ¹Ø¯Ø©ØŸ</p>
        <button onclick="nextStep(1)">ÙŠØ§Ù„Ù„Ù‡ Ù†Ø¨Ø¯Ø£! ğŸ˜</button>
    </div>

    <div class="step" id="step1">
        <h1>Ø­Ø¨ÙŠØ¨Ø¬ Ù†ÙˆØ± Ù…ÙˆØ§Ù„ÙŠØ¯ ÙƒÙ…ØŸ</h1>
        <button onclick="showErr(1)">2004</button>
        <button onclick="saveAnswer('Ù…ÙˆØ§Ù„ÙŠØ¯ Ù†ÙˆØ±', '2006'); nextStep(2)">2006</button> 
        <button onclick="showErr(1)">2005</button>
        <p class="error" id="err1">Ø±ÙƒØ²ÙŠ ÙŠØ§ Ø¹Ù…Ø±ÙŠ.. Ù…Ùˆ ØµØ¹Ø¨Ø©!</p>
    </div>

    <div class="step" id="step2">
        <h1>ÙÙŠ Ø£ÙŠ Ø´Ù‡Ø± ÙˆÙ„Ø¯ Ù†ÙˆØ±ØŸ</h1>
        <input type="number" id="ans2" inputmode="numeric" placeholder="Ù…Ø«Ù„Ø§Ù‹: ğŸ˜‰">
        <button onclick="checkStep2()">ØªØ£ÙƒÙŠØ¯ ğŸŒ¸</button>
        <p class="error" id="err2">Ù„Ø§Ø²Ù… ØªØ¹Ø±ÙÙŠÙ† Ø´Ù‡Ø± Ù…ÙŠÙ„Ø§Ø¯ÙŠ!</p>
    </div>

    <div class="step" id="step3">
        <img src="images/char2.png" class="char-img">
        <h1>Ù†ÙˆØ± Ø´Ù†Ùˆ ÙŠØ¹ØªØ¨Ø± Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø¬ØŸ</h1>
        <button onclick="saveAnswer('Ù…ÙƒØ§Ù†Ø© Ù†ÙˆØ±', 'ÙƒÙ„ Ø¯Ù†ÙŠØªÙŠ'); nextStep(4)">ÙƒÙ„ Ø¯Ù†ÙŠØªÙŠ ğŸŒ</button>
        <button onclick="saveAnswer('Ù…ÙƒØ§Ù†Ø© Ù†ÙˆØ±', 'Ø³Ù†Ø¯ÙŠ ÙˆØ­Ø¨ÙŠØ¨ÙŠ'); nextStep(4)">Ø³Ù†Ø¯ÙŠ ÙˆØ­Ø¨ÙŠØ¨ÙŠ â¤ï¸</button>
        <button onclick="saveAnswer('Ù…ÙƒØ§Ù†Ø© Ù†ÙˆØ±', 'Ø£Ø¬Ù…Ù„ Ø´Ø®Øµ'); nextStep(4)">Ø£Ø¬Ù…Ù„ Ø´Ø®Øµ ğŸ˜</button>
    </div>

    <div class="step" id="step4">
        <h1>Ø´Ù†Ùˆ Ø§Ø³Ù…ÙŠ ÙŠØ­Ù„ÙˆØŸ</h1>
        <input type="text" id="ans4" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…ÙŠ Ù‡Ù†Ø§">
        <button onclick="checkStep4()">Ø§Ù„ØªØ§Ù„ÙŠ âœ¨</button>
        <p class="error" id="err4">Ø§Ø³Ù… Ø­Ø¨ÙŠØ¨Ø¬ Ø´Ù†ÙˆØŸ Ø±ÙƒØ²ÙŠ!</p>
    </div>

    <div class="step" id="step5">
        <h1>Ø³Ù†Ø© ÙƒÙ… ØªØ¹Ø§Ø±ÙÙ†Ø§ØŸ</h1>
        <input type="number" id="ans5" inputmode="numeric" placeholder="Ø§Ø­Ø¨Ø¬">
        <button onclick="checkStep5()">Ø£Ø±Ø³Ù„ Ø§Ù„Ù…Ø­Ø¨Ø© ğŸ’Œ</button>
        <p class="error" id="err5">Ù‡Ø°ÙŠ Ø§Ù„Ø³Ù†Ø© Ù…Ø³ØªØ­ÙŠÙ„ Ù†Ù†Ø³Ø§Ù‡Ø§!</p>
    </div>

    <div class="step" id="step6">
        <h1>Ø£Ø¬ÙˆØ¨ØªØ¬ ÙŠØ§ Ù…Ø±Ø§Ù… â¤ï¸</h1>
        <table id="statsTable"><tbody id="statsBody"></tbody></table>
        <button onclick="nextStep(7)">Ø´ÙˆÙÙŠ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© ğŸ</button>
    </div>

    <div class="step" id="step7">
        <h1 style="font-family: 'Pacifico', cursive; font-size: 24px;">Happy New Year â¤ï¸</h1>
        <div class="message-box">
            <p>Ù…Ø§Ù…Ø§ Ø­Ø¨ÙŠØ¨ØªÙŠ ÙˆØ¹ÙŠÙˆÙ†ÙŠ ÙˆÙ…Ø±ÙˆÙ…ØªÙŠ ÙˆÙ…Ø±Ù…Ø± ÙˆØ­ÙŠÙ„ÙŠ ÙˆØ³Ù†Ø¯ÙŠ ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ§Ù†ØªÙŠ Ø¨Ø®ÙŠØ± ÙˆØ³Ù†Ù‡ Ø¬Ø¯ÙŠØ¯Ù‡ ØªØ¨Ø¯ÙŠ Ø¹Ù„ÙŠÙ†Ø§ ÙˆØ±Ø§ Ø³Ù†Ù‡ Ø·ÙˆÙŠÙ„Ù‡ ÙˆÙ…ØªØ¹Ø¨Ù‡ Ù…Ø±ÙŠÙ†Ø§ Ø¨ÙŠÙ‡Ø§ Ù‡ÙˆØ§ÙŠ Ø§Ù…ÙˆØ± Ù…Ùˆ Ø³Ù‡Ù„Ù‡ ÙˆØªØ¹Ø¨ ÙˆØ¶ØºØ· ÙˆÙˆØ¬Ø¹ ÙˆÙØ±Ø­ Ø¨Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª Ø¨Ø³ Ø±ØºÙ… ÙƒÙ„ Ø´ÙŠ Ø¨Ù‚ÙŠÙ†Ø§ Ø³ÙˆÙ‡ Ø¨Ù‚ÙŠÙ†Ø§ Ø­Ø¨Ø§ÙŠØ¨ ÙˆØ³Ù†Ø¯ Ù„Ø¨Ø¹Ø¶..</p>
            <p>Ù…Ø§Ù…Ø§ Ø§Ù‚ÙˆÙ„Ù‡ Ù…Ù† Ù‚Ù„Ø¨ÙŠ Ø§Ù†ØªÙŠ Ù†Ø¹Ù…Ù‡ Ø¨Ø­ÙŠØ§ØªÙŠ ÙˆØ¬ÙˆØ¯Ø¬ Ø§Ù…Ø§Ù† ÙˆØ±Ø§Ø­Ù‡ ÙˆØ·Ù…Ø£Ù†ÙŠÙ†Ù‡ ÙˆÙŠØ§Ø¬ Ø§Ù„Ø¯Ù†ÙŠØ§ ØªÙ‡ÙˆÙ† ÙˆØ§Ù„Ø§ÙŠØ§Ù… ØªØµÙŠØ± Ø§Ø®Ù ÙˆÙƒÙ„ ØªØ¹Ø¨ ÙŠÙ†Ø³Ù‰ Ø§Ø­Ø¨Ø¬ Ù…Ùˆ Ø¨Ø³ Ù„Ø§Ù†Ø¬ Ø­Ø¨ÙŠØ¨ØªÙŠ Ø§Ø­Ø¨Ø¬ Ù„Ø§Ù†Ø¬ Ø³Ù†Ø¯ÙŠ ÙˆØ­ÙŠÙ„ÙŠ ÙˆØ¸Ù‡Ø±ÙŠ ÙˆÙ„Ø§Ù†Ø¬ Ø¯Ø§ÙŠÙ…Ø§ ØªØ­Ø§ÙˆÙ„ÙŠÙ† ØªÙƒÙˆÙ†ÙŠÙ† Ù‚ÙˆÙŠÙ‡..</p>
            <p>ÙˆØ§ØªÙ…Ù†Ù‰ Ù‡Ø§Ù„Ø³Ù†Ù‡ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ù‡ ØªØ¹ÙˆØ¶Ø¬ Ø¹Ù† ÙƒÙ„ Ù„Ø­Ø¸Ù‡ ØªØ¹Ø¨ ÙˆØ¹Ù† ÙƒÙ„ Ø¯Ù…Ø¹Ù‡ Ù†Ø²Ù„Øª Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨ ÙˆØ¹Ù† ÙƒÙ„ ÙˆØ¬Ø¹ ÙƒØªÙ…ØªÙŠÙ‡ Ø¨Ù‚Ù„Ø¨Ø¬ ÙˆØ§ØªÙ…Ù†Ù‰ Ø§ÙŠØ§Ù…Ù†Ù‡ Ø§Ù„Ø¬Ø§ÙŠÙ‡ ØªÙƒÙˆÙ† Ø§Ø­Ù„Ù‰ ÙˆØ§Ù‡Ø¯Ù‰ ÙˆÙ…Ù„ÙŠØ§Ù†Ù‡ ÙØ±Ø­ ÙˆÙ†Ø¬Ø§Ø­ ÙˆØ±Ø§Ø­Ù‡ Ø¨Ø§Ù„ ÙˆØ­Ø¨ Ø§ÙƒØ«Ø± ÙˆØ§ÙƒØ«Ø± Ù…Ø§Ù…Ø§ ÙˆØ¹Ø¯ Ù…Ù†ÙŠ Ø§Ø¨Ù‚Ù‰ ÙˆÙŠØ§Ø¬ ÙˆÙ…Ø§ Ø§ØªØ±ÙƒØ¬..</p>
            <p>ÙˆÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ­Ø¨Ù†Ø§ ÙŠÙƒØ¨Ø± ÙˆÙŠÙ‚ÙˆÙ‰ ÙˆÙ…Ø§ ÙŠÙ‡Ø²Ù‡ Ø´ÙŠ ÙˆÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ§Ù†ÙŠ Ø§Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯Ø¬ Ø¨Ø­ÙŠØ§ØªÙŠ Ù„Ø§Ù†Ø¬ Ù…Ùˆ Ø´Ø®Øµ Ø¹Ø§Ø¯ÙŠ Ù„Ø§Ù†Ø¬ Ø±ÙˆØ­ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠÙ‡ ÙˆÙ‚Ù„Ø¨ÙŠ ÙˆØ§Ù…Ø§Ù†ÙŠ ÙˆØ±Ø§Ø­ØªÙŠ ÙˆØ§Ø¨ØªØ³Ø§Ù…ØªÙŠ.. Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠ ÙŠÙ†ÙˆØ± Ø¹ÙŠÙˆÙ†ÙŠ ğŸ¥ºğŸ¥ºâ¤ï¸â¤ï¸â¤ï¸ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹</p>
        </div>
        <img src="images/our_photo.jpeg" class="char-img" style="width: 100%; border-radius: 15px; margin-top: 15px;">
    </div>
</div>

<script>
    let answers = {};
    function nextStep(n) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        document.getElementById('step' + n).classList.add('active');
        if(n === 6) showStats();
        if(n === 7) startCelebration(); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©
        window.scrollTo(0,0);
    }

    function startCelebration() {
        var duration = 5 * 1000;
        var animationEnd = Date.now() + duration;
        var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

        function randomInRange(min, max) { return Math.random() * (max - min) + min; }

        var interval = setInterval(function() {
            var timeLeft = animationEnd - Date.now();
            if (timeLeft <= 0) { return clearInterval(interval); }
            var particleCount = 50 * (timeLeft / duration);
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
        }, 250);
    }

    function saveAnswer(q, a) { answers[q] = a; }
    function showErr(n) { 
        document.querySelectorAll('.error').forEach(e => e.style.display = 'none');
        document.getElementById('err' + n).style.display = 'block'; 
    }
    function checkStep2() {
        if(document.getElementById('ans2').value == "4") { saveAnswer('Ø´Ù‡Ø± Ù…ÙŠÙ„Ø§Ø¯ Ù†ÙˆØ±', '4'); nextStep(3); }
        else showErr(2);
    }
    function checkStep4() {
        let val = document.getElementById('ans4').value.trim();
        if(val == "Ù†ÙˆØ± Ø§Ù„Ø¯ÙŠÙ†") { saveAnswer('Ø§Ø³Ù… Ù†ÙˆØ±', val); nextStep(5); }
        else showErr(4);
    }
    function checkStep5() {
        if(document.getElementById('ans5').value == "2024") { saveAnswer('Ø³Ù†Ø© Ø§Ù„ØªØ¹Ø§Ø±Ù', '2024'); nextStep(6); }
        else showErr(5);
    }
    function showStats() {
        const body = document.getElementById('statsBody');
        body.innerHTML = "";
        for (let q in answers) { body.innerHTML += `<tr><td>${q}</td><td>${answers[q]}</td></tr>`; }
    }

    // Ù‚Ù„ÙˆØ¨ Ù…ØªØ·Ø§ÙŠØ±Ø© Ø®Ù„ÙÙŠØ©
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart-float';
        heart.innerHTML = 'â¤ï¸';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = '110vh';
        heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
        heart.style.transition = 'all 4s linear';
        document.body.appendChild(heart);
        setTimeout(() => { heart.style.top = '-10vh'; heart.style.opacity = '0'; }, 100);
        setTimeout(() => heart.remove(), 4000);
    }, 700);
</script>
</body>
</html>